<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–ì—Ä–∞—Ñ—ñ–∫ –û—Ü—ñ–Ω–æ–∫ –ï–º–ø–∞—Ç—ñ—ó</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="container">
    <h1>–ì—Ä–∞—Ñ—ñ–∫ –û—Ü—ñ–Ω–æ–∫ –ï–º–ø–∞—Ç—ñ—ó üìà</h1>
    <div class="navigation">
        <a href="{{ url_for('index') }}" class="nav-button">‚Üê –î–æ –ö–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∞</a>
        <a href="{{ url_for('history') }}" class="nav-button">–Ü—Å—Ç–æ—Ä—ñ—è –ø–µ—Ä–µ–≤—ñ—Ä–æ–∫</a>
    </div>

    <form method="POST" action="/graph" class="graph-form">
        
        <label for="person_name">–Ü–º'—è –ª—é–¥–∏–Ω–∏:</label>
        <input 
            type="text" 
            name="person_name" 
            id="person_name" 
            placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è"
            value="{{ person_name_filter if person_name_filter else '' }}"
            style="max-width: 150px;"
        >
        
        <label for="time_range">–û–±–µ—Ä—ñ—Ç—å –ø—Ä–æ–º—ñ–∂–æ–∫ —á–∞—Å—É:</label>
        <select name="time_range" id="time_range">
            <option value="day" {% if time_range=='day' %}selected{% endif %}>–û—Å—Ç–∞–Ω–Ω—ñ 24 –≥–æ–¥–∏–Ω–∏</option>
            <option value="week" {% if time_range=='week' %}selected{% endif %}>–û—Å—Ç–∞–Ω–Ω—ñ–π —Ç–∏–∂–¥–µ–Ω—å</option>
            <option value="month" {% if time_range=='month' %}selected{% endif %}>–û—Å—Ç–∞–Ω–Ω—ñ–π –º—ñ—Å—è—Ü—å</option>
        </select>
        
        <button type="submit">–ü–æ–∫–∞–∑–∞—Ç–∏ –≥—Ä–∞—Ñ—ñ–∫</button>
    </form>

    {% if graph_image %}
    <div style="display: flex; justify-content: center; margin-top: 20px;">
        <img src="data:image/png;base64,{{ graph_image }}" alt="–ì—Ä–∞—Ñ—ñ–∫ —Ä—ñ–≤–Ω—è –µ–º–ø–∞—Ç—ñ—ó –∑ —á–∞—Å–æ–º" style="max-width: 700px; width: 100%; height: auto; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);">
    </div>
    {% else %}
    <p>–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö –¥–ª—è –ø–æ–±—É–¥–æ–≤–∏ –≥—Ä–∞—Ñ—ñ–∫—É –∑–∞ –æ–±—Ä–∞–Ω–∏–π –ø—Ä–æ–º—ñ–∂–æ–∫ —á–∞—Å—É.</p>
    {% endif %}
</div>
</body>
</html>
